<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ö–∞—Ç–∞–ª–æ–≥ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ ‚Äî –ø—Ä–æ—Ç–æ—Ç–∏–ø</title>
  <style>
    :root{
      --bg:#f6f7fb;--card:#ffffff;--text:#0f172a;--muted:#64748b;
      --accent:#2563eb;--ok:#16a34a;--bad:#dc2626;--border:#e5e7eb;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;}
    .wrap{max-width:1024px;margin:0 auto;padding:16px}
    h1{font-size:26px;margin:8px 0 4px}
    .sub{color:var(--muted);margin:0 0 14px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:14px;margin:10px 0;box-shadow:0 4px 18px rgba(0,0,0,.04)}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:4px}
    input,select,button,textarea{border:1px solid var(--border);border-radius:10px;padding:10px;font-size:14px;background:#fff;color:var(--text)}
    input[type=number]{width:120px}
    .btn{cursor:pointer}
    .btn-primary{background:var(--accent);color:#fff;border-color:#1e40af}
    .btn-ghost{background:#fff;color:var(--text)}
    .btn-danger{background:#fff;color:var(--bad);border-color:#fecaca}
    .grid{display:grid;gap:10px}
    @media(min-width:860px){.grid-2{grid-template-columns:1.2fr .8fr}}
    .list{display:grid;gap:10px}
    .item{display:grid;gap:8px;border:1px solid var(--border);border-radius:12px;padding:12px;background:#fff}
    .hdr{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap}
    .pill{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid var(--border);font-size:12px;color:var(--muted)}
    .muted{color:var(--muted)}
    .hint{font-size:12px;color:var(--muted);margin-top:-6px}
    .checkgroup{display:flex;flex-wrap:wrap;gap:8px}
    .checkgroup label{display:flex;align-items:center;gap:6px;border:1px solid var(--border);border-radius:999px;padding:6px 10px;background:#fff;cursor:pointer}
    .checkgroup input{margin:0}
    .section-title{font-weight:700;margin:8px 0}
    .empty{color:var(--muted);padding:10px}
    .footer{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    .price{font-weight:800}
    .thumb{width:100%;max-width:220px;height:140px;object-fit:cover;border-radius:10px;border:1px solid var(--border)}
  </style>
</head>
<body>
<div class="wrap">
  <div class="hdr">
    <div>
      <h1>üè† –ö–∞—Ç–∞–ª–æ–≥ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ (–ø—Ä–æ—Ç–æ—Ç–∏–ø)</h1>
      <div class="sub">–ü–æ–∏—Å–∫ –ø–æ —Ç–≤–æ–∏–º –æ–±—ä–µ–∫—Ç–∞–º. –î–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ (localStorage).</div>
    </div>
    <div class="footer">
      <button class="btn btn-ghost" id="btnExport">–≠–∫—Å–ø–æ—Ä—Ç</button>
      <label class="btn btn-ghost" style="cursor:pointer">–ò–º–ø–æ—Ä—Ç
        <input type="file" accept="application/json" id="fileImport" style="display:none">
      </label>
      <button class="btn btn-danger" id="btnWipe">–°–±—Ä–æ—Å</button>
    </div>
  </div>

  <div class="grid grid-2">
    <!-- –§–∏–ª—å—Ç—Ä—ã -->
    <div class="card">
      <div class="section-title">–§–∏–ª—å—Ç—Ä</div>

      <div class="row">
        <div>
          <label>–¢–∏–ø</label>
          <select id="f_type">
            <option value="">–õ—é–±–æ–π</option>
            <option value="flat">–ö–≤–∞—Ä—Ç–∏—Ä–∞</option>
            <option value="house">–î–æ–º</option>
            <option value="land">–ó–µ–º–ª—è</option>
          </select>
        </div>
        <div>
          <label>–°—Ç–∞—Ç—É—Å</label>
          <select id="f_status">
            <option value="">–õ—é–±–æ–π</option>
            <option value="sale">–ü—Ä–æ–¥–∞—ë—Ç—Å—è</option>
            <option value="rent">–ê—Ä–µ–Ω–¥–∞</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div>
          <label>–¶–µ–Ω–∞ –æ—Ç ($)</label>
          <input id="f_price_from" type="number" min="0" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä 50000">
        </div>
        <div>
          <label>–¶–µ–Ω–∞ –¥–æ ($)</label>
          <input id="f_price_to" type="number" min="0" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä 120000">
        </div>
      </div>

      <div class="row">
        <div>
          <label>–ü–ª–æ—â–∞–¥—å –æ—Ç (–º¬≤)</label>
          <input id="f_area_from" type="number" min="0" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä 60">
        </div>
        <div>
          <label>–ü–ª–æ—â–∞–¥—å –¥–æ (–º¬≤)</label>
          <input id="f_area_to" type="number" min="0" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä 120">
        </div>
      </div>

      <div class="row">
        <div>
          <label>–ö–æ–º–Ω–∞—Ç –æ—Ç (–∫–≤.)</label>
          <input id="f_rooms_from" type="number" min="1">
        </div>
        <div>
          <label>–ö–æ–º–Ω–∞—Ç –¥–æ (–∫–≤.)</label>
          <input id="f_rooms_to" type="number" min="1">
        </div>
      </div>

      <div class="row">
        <div>
          <label>–≠—Ç–∞–∂ –æ—Ç (–∫–≤.)</label>
          <input id="f_floor_from" type="number" min="1">
        </div>
        <div>
          <label>–≠—Ç–∞–∂ –¥–æ (–∫–≤.)</label>
          <input id="f_floor_to" type="number" min="1">
        </div>
      </div>

      <div class="row">
        <div>
          <label>–≠—Ç–∞–∂–Ω–æ—Å—Ç—å –æ—Ç (–∫–≤.)</label>
          <input id="f_floors_from" type="number" min="1">
        </div>
        <div>
          <label>–≠—Ç–∞–∂–Ω–æ—Å—Ç—å –¥–æ (–∫–≤.)</label>
          <input id="f_floors_to" type="number" min="1">
        </div>
      </div>

      <div class="section-title">–†–∞–π–æ–Ω—ã (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ)</div>
      <div class="checkgroup" id="f_districts"></div>
      <div class="hint">–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —Ä–∞–π–æ–Ω—ã.</div>

      <div class="row" style="margin-top:10px">
        <button class="btn btn-primary" id="btnApply">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        <button class="btn btn-ghost" id="btnResetFilters">–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä</button>
      </div>
    </div>

    <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ -->
    <div class="card">
      <div class="section-title">–î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç (–∞–¥–º–∏–Ω–∫–∞)</div>
      <div class="row">
        <div>
          <label>–¢–∏–ø</label>
          <select id="a_type">
            <option value="flat">–ö–≤–∞—Ä—Ç–∏—Ä–∞</option>
            <option value="house">–î–æ–º</option>
            <option value="land">–ó–µ–º–ª—è</option>
          </select>
        </div>
        <div>
          <label>–°—Ç–∞—Ç—É—Å</label>
          <select id="a_status">
            <option value="sale">–ü—Ä–æ–¥–∞—ë—Ç—Å—è</option>
            <option value="rent">–ê—Ä–µ–Ω–¥–∞</option>
          </select>
        </div>
        <div style="flex:1">
          <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
          <input id="a_title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 4-–∫–æ–º–Ω, –Æ–Ω—É—Å–∞–±–∞–¥ 9, —Ä–µ–º–æ–Ω—Ç"/>
        </div>
      </div>
      <div class="row">
        <div><label>–†–∞–π–æ–Ω</label><select id="a_district"></select></div>
        <div><label>–ö–≤–∞—Ä—Ç–∞–ª/–º–∞—Ö–∞–ª—è</label><input id="a_quarter" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä 9"/></div>
        <div><label>–¶–µ–Ω–∞ ($)</label><input id="a_price" type="number" min="0"/></div>
        <div><label>–ü–ª–æ—â–∞–¥—å (–º¬≤)</label><input id="a_area" type="number" min="0"/></div>
      </div>
      <div class="row">
        <div><label>–ö–æ–º–Ω–∞—Ç (–∫–≤.)</label><input id="a_rooms" type="number" min="0"/></div>
        <div><label>–≠—Ç–∞–∂ (–∫–≤.)</label><input id="a_floor" type="number" min="0"/></div>
        <div><label>–≠—Ç–∞–∂–Ω–æ—Å—Ç—å (–∫–≤.)</label><input id="a_floors" type="number" min="0"/></div>
      </div>
      <div class="row">
        <div style="flex:1"><label>–§–æ—Ç–æ (URL, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
          <input id="a_photos" placeholder="https://.../1.jpg, https://.../2.jpg"/></div>
      </div>
      <div class="row">
        <div style="flex:1"><label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
          <textarea id="a_desc" rows="3" placeholder="–ö–ª—é—á–µ–≤—ã–µ –ø–ª—é—Å—ã, —á—Ç–æ —Ä—è–¥–æ–º"></textarea></div>
      </div>
      <div class="row">
        <button class="btn btn-primary" id="btnAdd">–î–æ–±–∞–≤–∏—Ç—å</button>
        <button class="btn btn-ghost" id="btnDemo">–î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ</button>
        <button class="btn btn-danger" id="btnClearObjects">–û—á–∏—Å—Ç–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã</button>
      </div>
      <div class="hint">–§–æ—Ç–æ –ø–æ–∫–∞ –ø–æ —Å—Å—ã–ª–∫–∞–º. –ü–æ—Ç–æ–º —Å–¥–µ–ª–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ (GitHub images –∏–ª–∏ Cloudinary).</div>
    </div>
  </div>

  <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
  <div class="card">
    <div class="hdr">
      <div class="section-title">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</div>
      <div class="muted">–ù–∞–π–¥–µ–Ω–æ: <span id="count">0</span></div>
    </div>
    <div id="results" class="list"></div>
    <div id="empty" class="empty" style="display:none">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</div>
  </div>
</div>

<script>
(function(){
  const DISTRICTS = ["–Æ–Ω—É—Å–∞–±–∞–¥","–ú–∏—Ä–∑–æ-–£–ª—É–≥–±–µ–∫","–ß–∏–ª–∞–Ω–∑–∞—Ä","–®–∞–π—Ö–∞–Ω—Ç–∞—Ö—É—Ä","–Ø–∫–∫–∞—Å–∞—Ä–∞–π","–£—á—Ç–µ–ø–∞","–°–µ—Ä–≥–µ–ª–∏–π—Å–∫–∏–π","–ê–ª–º–∞–∑–∞—Ä","–ë–µ–∫—Ç–µ–º–∏—Ä","–ú–∏—Ä–∞–±–∞–¥","–Ø—à–Ω–∞–±–∞–¥"];
  const LS_KEY = "realty_objects_v1";
  let objects = [];

  const $ = id => document.getElementById(id);
  const el = (tag, attrs={}, html="")=>{
    const e=document.createElement(tag);
    for(const k in attrs){ if(k==='class') e.className=attrs[k]; else e.setAttribute(k, attrs[k]); }
    if(html) e.innerHTML=html;
    return e;
  };
  const typeLabel = t => t==='flat'?'–ö–≤–∞—Ä—Ç–∏—Ä–∞':t==='house'?'–î–æ–º':t==='land'?'–ó–µ–º–ª—è':'‚Äî';
  const statusLabel = s => s==='sale'?'–ü—Ä–æ–¥–∞—ë—Ç—Å—è':s==='rent'?'–ê—Ä–µ–Ω–¥–∞':'‚Äî';
  const money = n => new Intl.NumberFormat('ru-RU',{style:'currency',currency:'USD',maximumFractionDigits:0}).format(n);
  const escapeHTML = s => s.replace(/[&<>\"']/g, m=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#039;"}[m]));

  function initDistricts(){
    const box = $("f_districts"); box.innerHTML = "";
    DISTRICTS.forEach((d)=>{
      const label = el("label");
      const input = el("input",{type:"checkbox","data-district":d});
      const span = el("span",{}, d);
      label.appendChild(input); label.appendChild(span);
      box.appendChild(label);
    });
    const aSel = $("a_district"); aSel.innerHTML = "";
    DISTRICTS.forEach(d=>{ const opt = el("option",{}, d); opt.value=d; aSel.appendChild(opt); });
  }

  function load(){ try{ objects = JSON.parse(localStorage.getItem(LS_KEY)||"[]"); }catch(_){ objects=[] } }
  function save(){ localStorage.setItem(LS_KEY, JSON.stringify(objects)); }

  function render(list = objects){
    const res = $("results"), empty = $("empty");
    res.innerHTML = "";
    $("count").textContent = String(list.length);
    empty.style.display = list.length ? "none" : "block";
    list.forEach(o=>{
      const it = el("div",{class:"item"});
      const head = el("div",{class:"row"});
      head.innerHTML = `
        <div class="pill">${typeLabel(o.type)}</div>
        <div class="pill">${statusLabel(o.status)}</div>
        <div class="pill">${o.district}${o.quarter?(", –∫–≤./–º–∞—Ö–∞–ª—è: "+escapeHTML(o.quarter)):""}</div>
        ${o.type==='flat' && o.rooms ? `<div class="pill">${o.rooms} –∫–æ–º–Ω</div>` : ""}
        ${o.type==='flat' && (o.floor||o.floors) ? `<div class="pill">—ç—Ç–∞–∂ ${o.floor||"-"}/${o.floors||"-"}</div>` : ""}
      `;
      const title = el("div",{class:"section-title"}, escapeHTML(o.title||"–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è"));
      const meta = el("div",{class:"muted"}, `–ü–ª–æ—â–∞–¥—å: ${o.area?o.area+" –º¬≤":"‚Äî"} ‚Ä¢ <span class="price">${o.price?money(o.price):"–¶–µ–Ω–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞"}</span>`);
      const media = (o.photos && o.photos.length) ? el("img",{class:"thumb",src:o.photos[0],alt:"photo"}) : null;
      const desc = o.desc? el("div",{}, escapeHTML(o.desc)) : null;
      const actions = el("div",{class:"footer"});
      const del = el("button",{class:"btn btn-danger"}, "–£–¥–∞–ª–∏—Ç—å");
      del.addEventListener("click", ()=>{ objects = objects.filter(x=>x.id!==o.id); save(); apply(); });
      actions.appendChild(del);

      it.appendChild(head);
      it.appendChild(title);
      if(media) it.appendChild(media);
      it.appendChild(meta);
      if(desc) it.appendChild(desc);
      it.appendChild(actions);
      res.appendChild(it);
    });
  }

  function apply(){
    const type = $("f_type").value;
    const status = $("f_status").value;

    const price_from = parseFloat($("f_price_from").value);
    const price_to   = parseFloat($("f_price_to").value);
    const area_from  = parseFloat($("f_area_from").value);
    const area_to    = parseFloat($("f_area_to").value);

    const rooms_from = parseInt($("f_rooms_from").value);
    const rooms_to   = parseInt($("f_rooms_to").value);
    const floor_from = parseInt($("f_floor_from").value);
    const floor_to   = parseInt($("f_floor_to").value);
    const floors_from= parseInt($("f_floors_from").value);
    const floors_to  = parseInt($("f_floors_to").value);

    const chosen = Array.from($("f_districts").querySelectorAll("input[type=checkbox]:checked"))
      .map(cb=>cb.getAttribute("data-district"));

    const list = objects.filter(o=>{
      if(type && o.type!==type) return false;
      if(status && o.status!==status) return false;
      if(!isNaN(price_from) && o.price && o.price<price_from) return false;
      if(!isNaN(price_to)   && o.price && o.price>price_to)   return false;
      if(!isNaN(area_from)  && o.area  && o.area<area_from)   return false;
      if(!isNaN(area_to)    && o.area  && o.area>area_to)     return false;

      if(o.type==='flat'){
        if(!isNaN(rooms_from) && o.rooms && o.rooms<rooms_from) return false;
        if(!isNaN(rooms_to)   && o.rooms && o.rooms>rooms_to)   return false;
        if(!isNaN(floor_from) && o.floor && o.floor<floor_from) return false;
        if(!isNaN(floor_to)   && o.floor && o.floor>floor_to)   return false;
        if(!isNaN(floors_from)&& o.floors&& o.floors<floors_from) return false;
        if(!isNaN(floors_to)  && o.floors&& o.floors>floors_to)   return false;
      }

      if(chosen.length>0 && !chosen.includes(o.district)) return false;
      return true;
    });
    render(list);
  }

  function resetFilters(){
    ["f_type","f_status","f_price_from","f_price_to","f_area_from","f_area_to",
     "f_rooms_from","f_rooms_to","f_floor_from","f_floor_to","f_floors_from","f_floors_to"]
     .forEach(id=>{$(id).value="";});
    $("f_districts").querySelectorAll("input[type=checkbox]").forEach(cb=>cb.checked=false);
    render(objects);
  }

  function addObject(){
    const photosRaw = $("a_photos").value.trim();
    const photos = photosRaw ? photosRaw.split(",").map(s=>s.trim()).filter(Boolean) : [];

    const o = {
      id: String(Date.now()),
      type: $("a_type").value,
      status: $("a_status").value,
      title: $("a_title").value.trim(),
      district: $("a_district").value,
      quarter: $("a_quarter").value.trim(),
      price: parseFloat($("a_price").value)||0,
      area: parseFloat($("a_area").value)||0,
      rooms: parseInt($("a_rooms").value)||0,
      floor: parseInt($("a_floor").value)||0,
      floors: parseInt($("a_floors").value)||0,
      photos,
      desc: $("a_desc").value.trim()
    };
    objects.push(o); save(); apply();
    ["a_title","a_quarter","a_price","a_area","a_rooms","a_floor","a_floors","a_photos","a_desc"].forEach(id=>{$(id).value="";});
  }

  function clearObjects(){
    if(confirm("–¢–æ—á–Ω–æ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã?")){
      objects = []; save(); render(objects);
    }
  }

  function exportJSON(){
    const data = JSON.stringify(objects,null,2);
    const a = document.createElement("a");
    a.href = URL.createObjectURL(new Blob([data],{type:"application/json"}));
    a.download = "realty_backup.json";
    a.click();
  }

  function importJSON(file){
    const reader = new FileReader();
    reader.onload = ()=>{
      try{
        const arr = JSON.parse(reader.result);
        if(Array.isArray(arr)){ objects = arr; save(); apply(); alert("–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ"); }
        else alert("–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞");
      }catch(_){ alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ"); }
    };
    reader.readAsText(file);
  }

  function wipe(){
    if(confirm("–°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë (–æ–±—ä–µ–∫—Ç—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã)?")){
      localStorage.removeItem(LS_KEY);
      objects = [];
      initDistricts();
      render(objects);
    }
  }

  function demo(){
    if(objects.length>0) return;
    objects = [
      {id:"1", type:"flat", status:"sale", title:"5-–∫–æ–º–Ω, –Æ–Ω—É—Å–∞–±–∞–¥ 9, —Ä–µ–º–æ–Ω—Ç", district:"–Æ–Ω—É—Å–∞–±–∞–¥", quarter:"9", price:120000, area:106, rooms:5, floor:3, floors:4, photos:["https://picsum.photos/seed/a/600/400"], desc:"–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞, 2 —Å–∞–Ω—É–∑–ª–∞, –ø–∞—Ä–∫–æ–≤–∫–∞"},
      {id:"2", type:"flat", status:"rent", title:"2-–∫–æ–º–Ω, –ú–∏—Ä–∞–±–∞–¥ 5", district:"–ú–∏—Ä–∞–±–∞–¥", quarter:"5", price:600, area:65, rooms:2, floor:5, floors:9, photos:["https://picsum.photos/seed/b/600/400"], desc:"–°–≤–µ—Ç–ª–∞—è, —Ä—è–¥–æ–º —à–∫–æ–ª–∞ –∏ –º–µ—Ç—Ä–æ"},
      {id:"3", type:"house", status:"sale", title:"–î–æ–º, –£—á—Ç–µ–ø–∞, 4 —Å–æ—Ç–∫–∏", district:"–£—á—Ç–µ–ø–∞", quarter:"", price:95000, area:120, rooms:4, photos:["https://picsum.photos/seed/c/600/400"], desc:"–ú–æ–∂–Ω–æ –∂–∏—Ç—å, –∫–∏—Ä–ø–∏—á, –¥–≤–æ—Ä"},
      {id:"4", type:"land", status:"sale", title:"–£—á–∞—Å—Ç–æ–∫ 6 —Å–æ—Ç–æ–∫", district:"–ê–ª–º–∞–∑–∞—Ä", quarter:"", price:70000, area:600, photos:["https://picsum.photos/seed/d/600/400"], desc:"–ü–æ–¥ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ, –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —Ä—è–¥–æ–º"},
      {id:"5", type:"flat", status:"sale", title:"3-–∫–æ–º–Ω, –ß–∏–ª–∞–Ω–∑–∞—Ä 12", district:"–ß–∏–ª–∞–Ω–∑–∞—Ä", quarter:"12", price:78000, area:80, rooms:3, floor:2, floors:3, photos:["https://picsum.photos/seed/e/600/400"], desc:"–¢–∏—Ö–∏–π –¥–≤–æ—Ä, —Ç—ë–ø–ª–∞—è"}
    ];
    save(); apply();
  }

  document.addEventListener("DOMContentLoaded", ()=>{
    initDistricts();
    load();
    if(objects.length===0) demo(); else apply();

    $("btnApply").addEventListener("click", apply);
    $("btnResetFilters").addEventListener("click", resetFilters);

    $("btnAdd").addEventListener("click", addObject);
    $("btnDemo").addEventListener("click", demo);
    $("btnClearObjects").addEventListener("click", clearObjects);

    $("btnExport").addEventListener("click", exportJSON);
    $("fileImport").addEventListener("change", e=>{ if(e.target.files[0]) importJSON(e.target.files[0]); });
    $("btnWipe").addEventListener("click", wipe);
  });
})();
</script>
</body>
</html>
